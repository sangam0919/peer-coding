<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>login</title>
</head>
<body>
    <%- include('header') %>
    <form id = "login_form">
        <label for="">아이디</label>
        <input type="text" name = "uid">
        <label for="">비밀번호</label>
        <input type="text" name = "upw">
        <button>로그인</button>
        <!-- <button type="button" id ="signup_btn">회원가입</button> -->
         <a href="./signup">회원가입</a>
    </form>
</body>
<script>
    login_form.onsubmit = async(e)=>{
        e.preventDefault();
        console.log("로그인 버튼 눌렸어")
        const {uid,upw} = e.target;
        const uidValue = uid.value;
        const upwValue = upw.value;

        //console.log(uidValue, upwValue);
        
        const data = await axios.post("/login" , {uid:uidValue, upw:upwValue})
        
        if (data.status === 200) {
            location.href ="/board"
        }
        console.log("login data :", data)
    }

    signup_btn.onsubmit = (e) => {
        try {
            loaction.herf="/signup"
        } catch (error) {
            console.log()
        }
    }
</script>
</html>